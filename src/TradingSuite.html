<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6bot Enhanced Trading Suite - Portfolio Management</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            color: #ffffff;
            font-family: 'Segoe UI', Arial, sans-serif;
            overflow-x: hidden;
        }
        
        .header {
            background: linear-gradient(90deg, #111111, #1a1a1a);
            border-bottom: 2px solid #00ffff;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 30px;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #00ff00;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .metric {
            font-weight: bold;
            font-size: 14px;
        }
        
        .metric.portfolio { color: #00ffff; }
        .metric.ml { color: #00ff00; }
        .metric.grok { color: #ffaa00; }
        
        .paper-trading {
            background: #ffaa00;
            color: #000000;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 12px;
        }
        
        .nav-bar {
            background: #1a1a1a;
            border-bottom: 2px solid #00ffff;
            padding: 20px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .nav-button {
            background: #333333;
            border: 2px solid #ffffff;
            color: #ffffff;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s ease;
            min-width: 160px;
        }
        
        .nav-button:hover {
            background: #00ffff;
            color: #000000;
            transform: translateY(-2px);
        }
        
        .nav-button.active {
            background: #00ffff;
            color: #000000;
        }
        
        .main-container {
            display: flex;
            padding: 20px;
            gap: 20px;
            min-height: calc(100vh - 200px);
        }
        
        .content-area {
            flex: 1;
            background: #1a1a1a;
            border: 2px solid #00ffff;
            border-radius: 15px;
            padding: 30px;
        }
        
        .sidebar {
            width: 300px;
            background: #1a1a1a;
            border: 2px solid #ff6b6b;
            border-radius: 15px;
            padding: 20px;
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .page-title {
            font-size: 32px;
            font-weight: bold;
            color: #00ffff;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .metric-card {
            background: #2a2a2a;
            border: 3px solid;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
        }
        
        .metric-card.primary { border-color: #00ffff; }
        .metric-card.success { border-color: #00ff00; }
        .metric-card.warning { border-color: #ffaa00; }
        .metric-card.danger { border-color: #ff4444; }
        
        .metric-card h3 {
            color: #cccccc;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .metric-card .value {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .metric-card .change {
            font-size: 14px;
            font-weight: bold;
        }
        
        .metric-card.primary .value { color: #00ffff; }
        .metric-card.success .value { color: #00ff00; }
        .metric-card.warning .value { color: #ffaa00; }
        .metric-card.danger .value { color: #ff4444; }
        
        .quick-actions {
            background: #2a2a2a;
            border: 2px solid #00ffff;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
        }
        
        .auto-trading-panel {
            background: #1a1a1a;
            border: 4px solid #00ff00;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .trading-status {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .status-led {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ff4444;
            transition: all 0.3s ease;
        }
        
        .status-led.active {
            background: #00ff00;
            animation: pulse-led 2s infinite;
        }
        
        @keyframes pulse-led {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }
        
        .trading-status-text {
            font-size: 24px;
            font-weight: bold;
            color: #ff4444;
            transition: all 0.3s ease;
        }
        
        .trading-status-text.active {
            color: #00ff00;
        }
        
        .start-trading-btn {
            background: linear-gradient(45deg, #00ff00, #00cc00);
            border: none;
            color: #000000;
            font-size: 32px;
            font-weight: bold;
            padding: 30px 60px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px;
            box-shadow: 0 8px 16px rgba(0, 255, 0, 0.3);
            text-transform: uppercase;
        }
        
        .start-trading-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 24px rgba(0, 255, 0, 0.5);
            background: linear-gradient(45deg, #00ff44, #00ee00);
        }
        
        .start-trading-btn:active {
            transform: translateY(0);
        }
        
        .start-trading-btn.active {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            color: #ffffff;
        }
        
        .strategy-selection {
            margin: 20px 0;
        }
        
        .strategy-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        
        .strategy-option {
            background: #333333;
            border: 2px solid #00ffff;
            color: #ffffff;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .strategy-option:hover {
            background: #00ffff;
            color: #000000;
        }
        
        .strategy-option.selected {
            background: #00ffff;
            color: #000000;
        }
        
        .connected {
            background: #004400;
            color: #00ff00;
            border: 2px solid #00ff00;
        }
        
        .disconnected {
            background: #440000;
            color: #ff4444;
            border: 2px solid #ff4444;
        }
        
        .quick-actions h3 {
            color: #00ffff;
            font-size: 20px;
            margin-bottom: 20px;
        }
        
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .action-btn {
            background: #00ff00;
            color: #000000;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-btn.sell { background: #ff4444; }
        .action-btn.rebalance { background: #00ffff; }
        
        .action-btn:hover {
            transform: scale(1.05);
        }
        
        .holdings-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .holdings-table th,
        .holdings-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #333333;
        }
        
        .holdings-table th {
            background: #333333;
            color: #00ffff;
            font-weight: bold;
        }
        
        .holdings-table tr:nth-child(even) {
            background: #2a2a2a;
        }
        
        .holdings-table tr:nth-child(odd) {
            background: #252525;
        }
        
        .symbol {
            color: #00ffff;
            font-weight: bold;
            font-size: 16px;
        }
        
        .positive { color: #00ff00; }
        .negative { color: #ff4444; }
        
        .ml-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .ml-card {
            background: #2a2a2a;
            border: 3px solid;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .ml-card.active { border-color: #00ff00; }
        .ml-card.training { border-color: #ffaa00; }
        .ml-card.premium { border-color: #ff6b6b; }
        
        .grok-recommendations {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .grok-card {
            background: #2a2a2a;
            border: 2px solid;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .grok-card.buy { border-color: #00ff00; }
        .grok-card.hold { border-color: #ffaa00; }
        .grok-card.sell { border-color: #ff4444; }
        
        .grok-symbol {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 100px;
        }
        
        .grok-symbol h4 {
            color: #00ffff;
            font-size: 18px;
            margin-bottom: 8px;
        }
        
        .action-tag {
            padding: 5px 15px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 12px;
            color: #000000;
        }
        
        .action-tag.buy { background: #00ff00; }
        .action-tag.hold { background: #ffaa00; }
        .action-tag.sell { background: #ff4444; }
        
        .grok-details {
            flex: 1;
        }
        
        .grok-details p {
            margin: 5px 0;
            font-size: 12px;
        }
        
        .trading-terminal {
            background: #2a2a2a;
            border: 2px solid #00ffff;
            border-radius: 10px;
            padding: 30px;
            margin-top: 20px;
        }
        
        .terminal-stats {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .terminal-stat {
            background: #2a2a2a;
            border: 2px solid;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            min-width: 150px;
        }
        
        .terminal-stat.buying { border-color: #00ff00; }
        .terminal-stat.pnl { border-color: #00ffff; }
        .terminal-stat.orders { border-color: #ffaa00; }
        
        .watchlist {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .watchlist-title {
            color: #ff6b6b;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .watchlist-item {
            background: #2a2a2a;
            border: 1px solid;
            border-radius: 6px;
            padding: 8px 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
        }
        
        .watchlist-item.positive { border-color: #00ff00; }
        .watchlist-item.negative { border-color: #ff4444; }
        
        .ticker {
            color: #00ffff;
            font-weight: bold;
        }
        
        .price {
            color: #ffffff;
        }
        
        .change {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-left">
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span style="color: #00ff00; font-weight: bold;">System ONLINE</span>
            </div>
            <div class="metric portfolio">Portfolio: $109,329.05 (+2.67%)</div>
            <div class="metric ml">ML Accuracy: 87.3%</div>
            <div class="metric grok">Grok Signals: 8 Active</div>
        </div>
        <div class="paper-trading">PAPER TRADING MODE</div>
    </div>
    
    <!-- Navigation -->
    <div class="nav-bar">
        <button class="nav-button active" onclick="showPage('dashboard')">🏠 Dashboard</button>
        <button class="nav-button" onclick="showPage('portfolio')">💼 Portfolio</button>
        <button class="nav-button" onclick="showPage('ml')">🤖 ML Models</button>
        <button class="nav-button" onclick="showPage('grok')">🧠 Grok AI</button>
        <button class="nav-button" onclick="showPage('trading')">📈 Trading</button>
    </div>
    
    <!-- AUTO-TRADING CONTROL PANEL -->
    <div class="auto-trading-panel">
        <h2 style="color: #00ffff; margin-bottom: 20px;">🤖 AUTONOMOUS TRADING SYSTEM</h2>
        
        <div class="trading-status">
            <div class="status-led" id="tradingStatusLed"></div>
            <div class="trading-status-text" id="tradingStatusText">⏸️ AUTO-TRADING GESTOPPT</div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <div id="backendStatus" class="disconnected" style="padding: 8px 15px; border-radius: 5px; font-weight: bold; text-align: center;">
                🔴 Backend Connecting...
            </div>
        </div>
        
        <button class="start-trading-btn" id="startTradingBtn" onclick="toggleAutoTradingReal()">
            ▶️ TRADING STARTEN
        </button>
        
        <div class="strategy-selection">
            <h3 style="color: #00ffff; margin-bottom: 10px;">📈 Trading Strategie:</h3>
            <div class="strategy-buttons">
                <button class="strategy-option selected" onclick="selectStrategy('CONSERVATIVE')">
                    🐌 CONSERVATIVE<br><small>3% Position</small>
                </button>
                <button class="strategy-option" onclick="selectStrategy('BALANCED')">
                    ⚖️ BALANCED<br><small>5% Position</small>
                </button>
                <button class="strategy-option" onclick="selectStrategy('AGGRESSIVE')">
                    🚀 AGGRESSIVE<br><small>10% Position</small>
                </button>
            </div>
        </div>
        
        <div style="margin-top: 20px;">
            <button style="background: #ff0000; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;" onclick="emergencyStopReal()">
                🛑 EMERGENCY STOP ALL TRADING
            </button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Content Area -->
        <div class="content-area">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <h1 class="page-title">🏠 DASHBOARD OVERVIEW</h1>
                
                <div class="metrics-grid">
                    <div class="metric-card primary">
                        <h3>💼 Portfolio Value</h3>
                        <div class="value">$109,329.05</div>
                        <div class="change positive">+$2,847.23 (+2.67%)</div>
                    </div>
                    
                    <div class="metric-card success">
                        <h3>🤖 ML Performance</h3>
                        <div class="value">87.3%</div>
                        <div class="change">Accuracy (LSTM)</div>
                    </div>
                    
                    <div class="metric-card warning">
                        <h3>🎯 Grok Signals</h3>
                        <div class="value">8</div>
                        <div class="change">Active Recommendations</div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <h3>⚡ QUICK ACTIONS</h3>
                    <div class="action-buttons">
                        <button class="action-btn">🛒 Quick Buy</button>
                        <button class="action-btn sell">💰 Quick Sell</button>
                        <button class="action-btn rebalance">🔄 Rebalance</button>
                    </div>
                </div>
            </div>
            
            <!-- Portfolio Page -->
            <div id="portfolio" class="page">
                <h1 class="page-title">💼 PORTFOLIO MANAGEMENT</h1>
                
                <div class="metrics-grid">
                    <div class="metric-card primary">
                        <h3>Total Value</h3>
                        <div class="value">$109,329.05</div>
                    </div>
                    
                    <div class="metric-card success">
                        <h3>Available Cash</h3>
                        <div class="value">$25,670.45</div>
                    </div>
                    
                    <div class="metric-card warning">
                        <h3>Open Positions</h3>
                        <div class="value">17</div>
                    </div>
                </div>
                
                <h3 style="color: #00ffff; font-size: 18px; margin-bottom: 15px;">🏆 Top Holdings</h3>
                
                <table class="holdings-table">
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Value</th>
                            <th>Weight</th>
                            <th>Change</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="symbol">NVDA</td>
                            <td>$29,630</td>
                            <td>27.1%</td>
                            <td class="positive">+5.7%</td>
                        </tr>
                        <tr>
                            <td class="symbol">MSFT</td>
                            <td>$30,964</td>
                            <td>28.3%</td>
                            <td class="positive">+2.1%</td>
                        </tr>
                        <tr>
                            <td class="symbol">META</td>
                            <td>$20,238</td>
                            <td>18.5%</td>
                            <td class="positive">+3.8%</td>
                        </tr>
                        <tr>
                            <td class="symbol">AAPL</td>
                            <td>$11,705</td>
                            <td>10.7%</td>
                            <td class="positive">+1.2%</td>
                        </tr>
                        <tr>
                            <td class="symbol">GOOGL</td>
                            <td>$4,874</td>
                            <td>4.5%</td>
                            <td class="negative">-1.8%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- ML Models Page -->
            <div id="ml" class="page">
                <h1 class="page-title">🤖 MACHINE LEARNING MODELS</h1>
                
                <h3 style="color: #ffffff; font-size: 18px; margin-bottom: 20px;">Model Performance Dashboard</h3>
                
                <div class="ml-grid">
                    <div class="ml-card active">
                        <h4 style="color: #00ff00; margin-bottom: 10px;">📊 LSTM Neural Network</h4>
                        <p style="color: #ffffff; font-size: 14px;">Accuracy: 89.2%</p>
                        <p style="color: #cccccc; font-size: 11px;">Status: Active • Predictions: 2,847</p>
                    </div>
                    
                    <div class="ml-card active">
                        <h4 style="color: #00ffff; margin-bottom: 10px;">🎯 Random Forest</h4>
                        <p style="color: #ffffff; font-size: 14px;">Accuracy: 84.7%</p>
                        <p style="color: #cccccc; font-size: 11px;">Status: Active • Predictions: 1,923</p>
                    </div>
                    
                    <div class="ml-card training">
                        <h4 style="color: #ffaa00; margin-bottom: 10px;">🌊 Gradient Boosting</h4>
                        <p style="color: #ffffff; font-size: 14px;">Training... 67%</p>
                        <p style="color: #cccccc; font-size: 11px;">ETA: 12 minutes remaining</p>
                    </div>
                    
                    <div class="ml-card premium">
                        <h4 style="color: #ff6b6b; margin-bottom: 10px;">🔮 Transformer Model</h4>
                        <p style="color: #ffffff; font-size: 14px;">Accuracy: 91.8%</p>
                        <p style="color: #cccccc; font-size: 11px;">Status: Active • Predictions: 4,156</p>
                    </div>
                </div>
            </div>
            
            <!-- Grok AI Page -->
            <div id="grok" class="page">
                <h1 class="page-title">🧠 GROK AI RECOMMENDATIONS</h1>
                
                <div class="metric-card primary" style="margin-bottom: 30px;">
                    <div style="display: flex; justify-content: space-around; align-items: center;">
                        <div>
                            <h4 style="color: #00ffff; margin-bottom: 5px;">🔮 AI Status</h4>
                            <p style="color: #00ff00;">Online & Processing</p>
                        </div>
                        <div>
                            <h4 style="color: #00ffff; margin-bottom: 5px;">📊 Confidence</h4>
                            <p style="color: #00ff00; font-size: 18px; font-weight: bold;">94.7%</p>
                        </div>
                        <div>
                            <h4 style="color: #00ffff; margin-bottom: 5px;">🎯 Active Signals</h4>
                            <p style="color: #ffaa00; font-size: 18px; font-weight: bold;">8 Recommendations</p>
                        </div>
                    </div>
                </div>
                
                <h3 style="color: #00ffff; font-size: 18px; margin-bottom: 20px;">🚀 Top AI Recommendations</h3>
                
                <div class="grok-recommendations">
                    <div class="grok-card buy">
                        <div class="grok-symbol">
                            <h4>NVDA</h4>
                            <div class="action-tag buy">BUY</div>
                        </div>
                        <div class="grok-details">
                            <p><strong>Current:</strong> $1,185 | <strong style="color: #00ffff;">Target:</strong> $1,350</p>
                            <p><strong>Confidence:</strong> 96.2%</p>
                            <p><strong>🧠 Analysis:</strong> KI-Boom und starke Quartalszahlen erwartet</p>
                        </div>
                    </div>
                    
                    <div class="grok-card buy">
                        <div class="grok-symbol">
                            <h4>AAPL</h4>
                            <div class="action-tag buy">BUY</div>
                        </div>
                        <div class="grok-details">
                            <p><strong>Current:</strong> $234 | <strong style="color: #00ffff;">Target:</strong> $260</p>
                            <p><strong>Confidence:</strong> 89.3%</p>
                            <p><strong>🧠 Analysis:</strong> iPhone 16 Launch läuft gut, Services stabil</p>
                        </div>
                    </div>
                    
                    <div class="grok-card buy">
                        <div class="grok-symbol">
                            <h4>GOOGL</h4>
                            <div class="action-tag buy">BUY</div>
                        </div>
                        <div class="grok-details">
                            <p><strong>Current:</strong> $162 | <strong style="color: #00ffff;">Target:</strong> $185</p>
                            <p><strong>Confidence:</strong> 91.7%</p>
                            <p><strong>🧠 Analysis:</strong> Bard/Gemini KI-Fortschritte, Werbemarkt erholt</p>
                        </div>
                    </div>
                    
                    <div class="grok-card hold">
                        <div class="grok-symbol">
                            <h4>TSLA</h4>
                            <div class="action-tag hold">HOLD</div>
                        </div>
                        <div class="grok-details">
                            <p><strong>Current:</strong> $249 | <strong style="color: #00ffff;">Target:</strong> $280</p>
                            <p><strong>Confidence:</strong> 78.5%</p>
                            <p><strong>🧠 Analysis:</strong> Autopilot Updates positiv, aber Bewertung hoch</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Trading Page -->
            <div id="trading" class="page">
                <h1 class="page-title">📈 TRADING TERMINAL</h1>
                
                <div class="terminal-stats">
                    <div class="terminal-stat buying">
                        <h4 style="color: #cccccc; margin-bottom: 5px;">Buying Power</h4>
                        <p style="color: #00ff00; font-size: 18px; font-weight: bold;">$25,670</p>
                    </div>
                    
                    <div class="terminal-stat pnl">
                        <h4 style="color: #cccccc; margin-bottom: 5px;">Day P&L</h4>
                        <p style="color: #00ff00; font-size: 18px; font-weight: bold;">+$2,847</p>
                    </div>
                    
                    <div class="terminal-stat orders">
                        <h4 style="color: #cccccc; margin-bottom: 5px;">Open Orders</h4>
                        <p style="color: #ffaa00; font-size: 18px; font-weight: bold;">3</p>
                    </div>
                </div>
                
                <div class="trading-terminal">
                    <h3 style="color: #00ffff; font-size: 20px; margin-bottom: 20px;">🎯 ORDER ENTRY SYSTEM</h3>
                    
                    <div style="display: flex; gap: 40px; align-items: center;">
                        <div>
                            <p style="font-size: 16px; font-weight: bold; margin-bottom: 10px;">Symbol: AAPL</p>
                            <p style="color: #00ffff; font-size: 14px; font-weight: bold; margin-bottom: 8px;">Current Price: $234.10</p>
                            <p style="font-size: 14px; margin-bottom: 8px;">Quantity: 10 shares</p>
                            <p style="color: #cccccc; font-size: 12px;">Order Value: $2,341.00</p>
                        </div>
                        
                        <div>
                            <button class="action-btn" style="margin-bottom: 10px; display: block;">🟢 BUY ORDER</button>
                            <button class="action-btn sell" style="display: block;">🔴 SELL ORDER</button>
                        </div>
                    </div>
                    
                    <div style="background: #1a1a1a; border: 2px solid #ffaa00; border-radius: 8px; padding: 15px; margin-top: 20px; text-align: center;">
                        <h4 style="color: #ffaa00; margin-bottom: 5px;">⚠️ Risk Assessment</h4>
                        <p style="font-size: 12px; margin-bottom: 5px;">Position Size: 2.1% of Portfolio • Risk Level: LOW</p>
                        <p style="color: #00ff00; font-size: 11px;">Grok AI Recommendation: BUY (89.3% Confidence)</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="watchlist-title">📊 LIVE WATCHLIST</div>
            <div class="watchlist">
                <div class="watchlist-item positive">
                    <span class="ticker">AAPL</span>
                    <span class="price">$234.10</span>
                    <span class="change positive">+1.2%</span>
                </div>
                
                <div class="watchlist-item positive">
                    <span class="ticker">NVDA</span>
                    <span class="price">$1,185.20</span>
                    <span class="change positive">+5.7%</span>
                </div>
                
                <div class="watchlist-item positive">
                    <span class="ticker">MSFT</span>
                    <span class="price">$412.85</span>
                    <span class="change positive">+2.1%</span>
                </div>
                
                <div class="watchlist-item negative">
                    <span class="ticker">GOOGL</span>
                    <span class="price">$162.45</span>
                    <span class="change negative">-1.8%</span>
                </div>
                
                <div class="watchlist-item negative">
                    <span class="ticker">TSLA</span>
                    <span class="price">$248.75</span>
                    <span class="change negative">-2.3%</span>
                </div>
                
                <div class="watchlist-item positive">
                    <span class="ticker">AMZN</span>
                    <span class="price">$186.12</span>
                    <span class="change positive">+0.9%</span>
                </div>
                
                <div class="watchlist-item positive">
                    <span class="ticker">META</span>
                    <span class="price">$578.23</span>
                    <span class="change positive">+3.4%</span>
                </div>
                
                <div class="watchlist-item negative">
                    <span class="ticker">NFLX</span>
                    <span class="price">$492.88</span>
                    <span class="change negative">-0.5%</span>
                </div>
                
                <div class="watchlist-item positive">
                    <span class="ticker">CRM</span>
                    <span class="price">$234.56</span>
                    <span class="change positive">+2.8%</span>
                </div>
                
                <div class="watchlist-item positive">
                    <span class="ticker">AMD</span>
                    <span class="price">$156.78</span>
                    <span class="change positive">+4.2%</span>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.nav-button');
            buttons.forEach(button => button.classList.remove('active'));
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }
        
        // Update live data every 3 seconds
        setInterval(() => {
            const watchlistItems = document.querySelectorAll('.watchlist-item');
            watchlistItems.forEach(item => {
                const changeElement = item.querySelector('.change');
                const currentChange = parseFloat(changeElement.textContent.replace('%', ''));
                const newChange = currentChange + (Math.random() - 0.5) * 0.4;
                
                changeElement.textContent = (newChange >= 0 ? '+' : '') + newChange.toFixed(1) + '%';
                changeElement.className = 'change ' + (newChange >= 0 ? 'positive' : 'negative');
                item.className = 'watchlist-item ' + (newChange >= 0 ? 'positive' : 'negative');
            });
        }, 3000);
        
        console.log('6bot Enhanced Trading Suite - Portfolio Management System loaded');
        
        // Auto-Trading System Variables
        let autoTradingActive = false;
        let currentStrategy = 'CONSERVATIVE';
        let tradingInterval;
        
        function toggleAutoTrading() {
            if (!autoTradingBackend) {
                alert('🚨 Backend not initialized!\nPlease wait for system to connect.');
                return;
            }
            
            if (!autoTradingBackend.isBackendConnected()) {
                alert('🚨 Backend not connected!\nPlease check if the 6bot backend service is running.');
                return;
            }
            
            autoTradingActive = !autoTradingActive;
            
            // Send command to backend
            autoTradingBackend.enableAutoTrading(autoTradingActive).then(success => {
                if (success) {
                    console.log(`🚀 Backend command sent: ${autoTradingActive ? 'START' : 'STOP'} auto-trading`);
                    
                    // Update header status
                    if (autoTradingActive) {
                        document.querySelector('.status-indicator span').textContent = 'AUTO-TRADING AKTIV';
                        document.querySelector('.status-indicator span').style.color = '#ffaa00';
                    } else {
                        document.querySelector('.status-indicator span').textContent = 'System ONLINE';
                        document.querySelector('.status-indicator span').style.color = '#00ff00';
                    }
                } else {
                    // Revert state on failure
                    autoTradingActive = !autoTradingActive;
                    alert('🚨 Failed to communicate with backend!\nPlease try again.');
                }
            });
        }
        
        function selectStrategy(strategy) {
            if (!autoTradingBackend) {
                alert('🚨 Backend not initialized!');
                return;
            }
            
            currentStrategy = strategy;
            
            // Update button states
            document.querySelectorAll('.strategy-option').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
            
            console.log('📈 Trading-Strategie geändert zu:', strategy);
            
            // Send to backend
            autoTradingBackend.setTradingStrategy(strategy).then(success => {
                if (success) {
                    console.log('✅ Strategy updated in backend:', strategy);
                    if (autoTradingActive) {
                        console.log('🔄 Live strategy change applied');
                    }
                } else {
                    console.error('❌ Failed to update strategy in backend');
                }
            });
        }
        
        function emergencyStop() {
            if (!autoTradingBackend) {
                alert('🚨 Backend not available for emergency stop!');
                return;
            }
            
            console.log('🛑 EMERGENCY STOP INITIATED');
            
            // Send emergency stop to backend
            autoTradingBackend.emergencyStopAll().then(success => {
                if (success) {
                    console.log('✅ Emergency stop command sent to backend');
                    autoTradingActive = false;
                    alert('🛑 EMERGENCY STOP AKTIVIERT!\n\nAlle Auto-Trading Aktivitäten wurden sofort gestoppt.\n\nBackend wurde benachrichtigt.');
                } else {
                    alert('� WARNUNG: Emergency stop communication failed!\nPlease manually stop the backend system.');
                }
            });
        }
        
        function startAutoTradingSimulation() {
            tradingInterval = setInterval(() => {
                // Simulate AI analysis and trading decisions
                if (Math.random() > 0.4) {
                    executeSimulatedTrade();
                }
            }, 5000); // Every 5 seconds
        }
        
        function stopAutoTradingSimulation() {
            if (tradingInterval) {
                clearInterval(tradingInterval);
            }
        }
        
        function executeSimulatedTrade() {
            const symbols = ['NVDA', 'AAPL', 'MSFT', 'GOOGL', 'TSLA', 'META', 'AMZN', 'NFLX'];
            const actions = ['BUY', 'SELL'];
            const strategies = {
                'CONSERVATIVE': { maxPosition: 3, minConfidence: 85 },
                'BALANCED': { maxPosition: 5, minConfidence: 75 },
                'AGGRESSIVE': { maxPosition: 10, minConfidence: 65 }
            };
            
            const symbol = symbols[Math.floor(Math.random() * symbols.length)];
            const action = actions[Math.floor(Math.random() * actions.length)];
            const confidence = Math.random() * 40 + 60; // 60-100%
            const strategy = strategies[currentStrategy];
            
            if (confidence >= strategy.minConfidence) {
                const quantity = Math.floor(Math.random() * strategy.maxPosition) + 1;
                const price = (Math.random() * 500 + 50).toFixed(2);
                
                console.log(`🔄 AUTO-TRADE EXECUTED: ${action} ${quantity} ${symbol} @ $${price}`);
                console.log(`📊 Confidence: ${confidence.toFixed(1)}% | Strategy: ${currentStrategy}`);
                
                // Update portfolio value in header (simulate profit/loss)
                const portfolioElement = document.querySelector('.header-left .metric.portfolio');
                if (portfolioElement) {
                    const pnlChange = (Math.random() - 0.4) * 500;
                    const currentValue = 109329 + pnlChange;
                    portfolioElement.textContent = `Portfolio: $${currentValue.toLocaleString()} (${pnlChange >= 0 ? '+' : ''}${(pnlChange/1000).toFixed(2)}%)`;
                }
            }
        }
    </script>
    
    <!-- Backend Integration -->
    <script src="AutoTradingBackend-Fixed.js"></script>
    
    <!-- QML-HTML Bridge for Hybrid Mode -->
    <script>
        // QML-HTML Communication Bridge
        console.log('🔗 Setting up QML-HTML Bridge...');
        
        // Global bridge object will be set by QML
        window.qmlBridge = null;
        
        // Called by QML when bridge is ready
        function onQMLBridgeReady(bridge) {
            console.log('✅ QML Bridge ready:', bridge);
            window.qmlBridge = bridge;
            
            // Sync initial state from QML
            syncFromQML(bridge);
            
            // Disable HTML-only auto-trading controls since QML handles them
            disableHTMLAutoTradingControls();
        }
        
        // Update HTML UI from QML data
        function updateFromQML(data) {
            console.log('📡 Received update from QML:', data);
            
            // Update auto-trading panel to show QML is controlling it
            const autoTradingPanel = document.querySelector('.auto-trading-panel');
            if (autoTradingPanel) {
                // Add QML control indicator
                let qmlIndicator = autoTradingPanel.querySelector('.qml-control-indicator');
                if (!qmlIndicator) {
                    qmlIndicator = document.createElement('div');
                    qmlIndicator.className = 'qml-control-indicator';
                    qmlIndicator.style.cssText = `
                        background: #00ffff;
                        color: #000000;
                        padding: 5px 10px;
                        border-radius: 5px;
                        font-size: 12px;
                        font-weight: bold;
                        text-align: center;
                        margin-bottom: 10px;
                    `;
                    qmlIndicator.textContent = '🔗 Controlled by Native QML Panel';
                    autoTradingPanel.insertBefore(qmlIndicator, autoTradingPanel.firstChild);
                }
                
                // Update status display
                const statusText = autoTradingPanel.querySelector('#tradingStatusText');
                if (statusText) {
                    statusText.textContent = data.autoTradingEnabled ? 
                        '🤖 AUTO-TRADING AKTIV (QML)' : 
                        '⏸️ AUTO-TRADING GESTOPPT (QML)';
                }
                
                // Update strategy display
                const strategyButtons = autoTradingPanel.querySelectorAll('.strategy-option');
                strategyButtons.forEach(btn => {
                    btn.classList.remove('selected');
                    if (btn.textContent.includes(data.currentStrategy)) {
                        btn.classList.add('selected');
                    }
                });
            }
            
            // Update portfolio value in header
            const portfolioElement = document.querySelector('.header-left .metric.portfolio');
            if (portfolioElement && data.dailyPnL !== undefined) {
                const pnlText = data.dailyPnL >= 0 ? `+${data.dailyPnL.toFixed(2)}` : data.dailyPnL.toFixed(2);
                portfolioElement.textContent = `Portfolio: $109,329 (${pnlText}%)`;
            }
        }
        
        // Sync initial state from QML
        function syncFromQML(bridge) {
            updateFromQML({
                autoTradingEnabled: bridge.autoTradingEnabled,
                currentStrategy: bridge.currentStrategy,
                dailyPnL: bridge.dailyPnL
            });
        }
        
        // Disable HTML auto-trading controls since QML handles them
        function disableHTMLAutoTradingControls() {
            console.log('🔒 Disabling HTML auto-trading controls (QML mode)');
            
            // Disable main start/stop button
            const startButton = document.getElementById('startTradingBtn');
            if (startButton) {
                startButton.disabled = true;
                startButton.style.opacity = '0.5';
                startButton.title = 'Use the native QML panel on the left to control auto-trading';
                startButton.onclick = function() {
                    alert('🔗 Auto-Trading wird über das QML-Panel links gesteuert.\n\nVerwende die nativen Buttons im linken Bereich.');
                };
            }
            
            // Disable strategy buttons
            const strategyButtons = document.querySelectorAll('.strategy-option');
            strategyButtons.forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.5';
                btn.title = 'Strategy is controlled by QML panel';
            });
            
            // Disable emergency stop (QML handles it)
            const emergencyButton = document.querySelector('[onclick="emergencyStopReal()"]');
            if (emergencyButton) {
                emergencyButton.disabled = true;
                emergencyButton.style.opacity = '0.5';
                emergencyButton.title = 'Emergency stop is available in QML panel';
            }
        }
        
        // Enhanced page switching with QML awareness
        function showPageHybrid(pageId) {
            console.log('📄 Switching to page:', pageId);
            
            // Call original function
            if (typeof showPage === 'function') {
                showPage(pageId);
            }
            
            // Notify QML about page change if needed
            if (window.qmlBridge) {
                console.log('📡 Notifying QML about page change:', pageId);
            }
        }
        
        // Override original showPage function for hybrid mode
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 QML-HTML Hybrid mode initialized');
            
            // Check if we're running in QML WebView
            const isInQML = window.qt !== undefined || navigator.userAgent.includes('QtWebEngine');
            
            if (isInQML) {
                console.log('✅ Running in QML WebView - Hybrid mode active');
                
                // Add QML mode indicator to header
                const header = document.querySelector('.header');
                if (header) {
                    const indicator = document.createElement('div');
                    indicator.style.cssText = `
                        background: #00ffff;
                        color: #000000;
                        padding: 3px 8px;
                        border-radius: 3px;
                        font-size: 11px;
                        font-weight: bold;
                        margin-left: 10px;
                    `;
                    indicator.textContent = 'HYBRID MODE';
                    header.appendChild(indicator);
                }
            } else {
                console.log('ℹ️ Running in standalone browser - HTML mode');
            }
        });
        
        console.log('✅ QML-HTML Bridge setup complete');
    </script>
</body>
</html>